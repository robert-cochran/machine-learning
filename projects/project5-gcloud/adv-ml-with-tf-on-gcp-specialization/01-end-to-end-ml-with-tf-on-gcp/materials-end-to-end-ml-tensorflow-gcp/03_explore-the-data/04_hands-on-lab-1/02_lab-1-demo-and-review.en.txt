Hi, I'm Chris Rawls and I am a machine learning specialist here within Google Cloud where I build machine learning models for customers. Right now, I'm going to walk you through our first lab on exploring and visualizing the baby weight dataset. All right. Let's get started on our first lab, on exploring and visualizing our baby weight dataset. So, the first thing we need to do is make sure that we have launched Qwiklabs and we have an active Datalab instance open. So, if you have not done it already, open up Qwiklabs and go ahead and click Start Lab. Once you do that, connect to your Datalab instance. Once you do, you will look at a screen similar to this one. What we want to do is, in the training-data-analyst repo, we want to go to courses, machine-learning, deep dive and 06_structured. So for this, the duration of this section, we will proceed throughout all six of these labs. But for right now, we're going to start on the first lab for exploring and visualizing our data set. So, let's go ahead and look at that lab. Great. So, now with this lab open in Datalab, we want to start exploring, visualizing the natality dataset. So, what's the goal of this lab? Well the goal really is to get a handle on our dataset, right? Presumably, this is a brand new dataset we've never seen before, and we need to figure out what we actually have in this dataset. If we think about our goal, our goal here is to, given attributes about a baby and the mother, trying to determine the weight of the baby. So, number one, this means it's going to be a regression problem. So, we're trying to figure out, we're trying to analyze the baby weight value. So, let's think more about the goal that we're trying to do, we're trying to predict the weight of the baby. The first step we want to do before we even dive into model building is, make sure we understand the data. One thing that you will notice is that, this is a relatively large dataset, we have over 100 million rows in our BigQuery data set. So, it's definitely not going to fit into our local instance of our Datalab. So, what are we going to do? What we're going to have to aggregate our data using the group by clause with BigQuery, so we can bring our data in locally for visualization. Then once we finish this lab, then we can actually move on and start to do machine learning. So, let's walk through this lab. I'm going to use the Shift Enter keyboard shortcut which will allow you to jump from cell to cell instead of having to click Run. You can also hit click the Run button as well. So, if we look at this lab, what we're going to need to do is, we're going to specify the bucket project in region. This will be specific to you, and you will set them appropriately. So once we do that, we're going to set these values, we'll set them as environmental variables, so we can easily access them later. If you didn't already have that bucket created, this command will create that bucket for you. So, let's actually run some SQL queries and look at the data that we have. So, you'll look at this example query that we have. Again, you could have written any query that you wanted, but this is a nice starting out query. So, what this is doing is it's selecting some potentially really interesting features that we can use for our model, like weight in pounds, the sex of the baby, mother age and other ones. We're also using a FARM_FINGERPRINT function, which we'll talk more about later. You can see we're we're limiting to all burst after the year 2000. So with that, we've assigned the result to a query string. From there, we want to import the BigQuery module as BQ, and we'll run this command right here, which will basically take that string that we've created, execute the result in big query and return the result back as a pandas dataframe. So if you look at this, we can df.head, which returns the first five results, and we can analyze them right here. So now, this is interesting but we've limited our results to the top to 100. We know that there's 10 of millions over 100 million examples. So, this isn't going to get us exactly where we need to go. While this is interesting to get a first take, we need to go beyond this. So, what we can do is, we can create a generalized function to query columns of interests that we want. If you think about it, there's a couple of key things that we're interested in. Number one, we're interested in, for each value of that column, what is the count as in the number of babies? What is the average weight for that column value? This will become more apparent. But this is an example query that you could use to analyze your data set, and we'll use the string formatting function which allows us basically said, "Given this column name plug this into the SQL query." So, whenever we call get distinct values, we'll get two fields of interests: The count and the average weight. So here, we have a bar plot to see the gender of the baby. Here, let's call the distinct values code. We already have the result, but I'm going to call it again so we can visualize it. What we can see is, we can look at the count which is the y axis by sex. So, in this case is_male false, so blue means female, green means male for the sex of the baby. You can see there's a slight difference here in terms of the count, but what we're also more interested in, is there a difference in the weight of the baby, right? Because this is what we're ultimately trying to predict. It looks like there may be some difference, so this is something to definitely note, and it may be something that we want to include in our model. So here, we're going to plot the mother's age with respect to average weight. In this case, we're going to actually be making a line plot and the way that we've specified that is it defaults to line plots. But above, we specified that we want to use a bar plot. There's other types that we can plot as well including a bar H for horizontal bar plot as well. I guess as a quick aside, this is using Pandas for plotting, and pandas is a very concise way to plot data, so it's definitely worth getting the handle on. So, let's look at the results of mother age. So again, this is the count. So, you can see start at the most common mother ages between 20 and 30 years old, which makes intuitive sense as well, but let's see if there's actually a correlation between mother age and baby weight. Well, it looks like there is a pretty strong relationship. Now, is this a linear relationship? No, it's not. It's actually a non-linear relationship. So, an increase in mother's age may or may not cause an increase in baby weight depending on the age of the mother. Let's also plot plurality, the plurality is the number of babies born at once. So, plurality equals two means twins, plurality equals three means triplets. So, let's look at the count by plurality. So not surprisingly, most mothers have one child at a time as opposed to twins, triplets et cetera. We can also look at the relationship between baby weight which is the y-axis and plurality as well. So again, this is a pretty strong relationship. So, if we know the plurality that's going to give us some indication, some signal for trying to predict baby weight. So, this is definitely a good feature that we're going to want to use in our model, and we can also look at gestation weeks. What is gestational weeks? That's essentially how long the mother was pregnant with the baby. Again, we're going to be using a bar plot here which is where we say kind equals bar. One thing we can also specify is log y equals true, so we're going to get log axis for the y value. If you're ever curious about what arguments you can put into pandas, one trick you can do is to shift and hold tab in Datalab, or hit tab, and you'll be able to see documentation on the side. This is really helpful if you're like me and you tend to forget the arguments. You can always use this as reference, but now we can close that backup. Here, we can look at the number of babies born by gestational weeks. So, we can see that about 39 weeks seems to be sort of the most common gestational weeks and it falls off in both directions. Let's see if there's a correlation in baby weight. Interesting, the longer the gestation weeks the larger the baby weight is. I think this makes intuitive sense as well. Great. All these factors seem to play a part in baby weight. This is encouraging, this is telling us that there's actually some signal in the data, and that now, we're actually ready to move on and start creating our first machine learning model for the baby weight. That's it for today's lab. We have now completed the initial steps of our end-to-end machine learning problem, analyzing a dataset and visualizing a dataset. Next, we will begin our process of creating our dataset for analysis. Key steps here will include data cleansing, feature engineering and creating repeatable samples that we can use for training and evaluating our machine learning model.